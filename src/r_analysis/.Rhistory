knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(maps)
usa <- map_data("usa")
canada <- map_data("world", "canada")
states <- map_data("state")
north_america <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#7f7f7f") + geom_polygon(data=canada, aes(x=long, y=lat, group = group), fill="#7f7f7f") +theme_classic() + coord_fixed(1.3)
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
count_data = read_csv("../../data/ramen_pho_count.csv")
count_data_by_city = inner_join(count_data, cities)
north_america +
geom_point(data=count_data_by_city, aes(x = long, y = lat, size=ramen_count), color="blue", alpha=0.3) + theme(legend.position="none") + ggtitle("North American Cities with Ramen and Pho Restaurants")
ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
north_america +
geom_point(data=count_data_by_city, aes(x = long, y = lat, size=ramen_count), color="red", alpha=0.4) + theme(legend.position="none") + ggtitle("North American Cities with Ramen and Pho Restaurants")
ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
usa <- map_data("usa")
canada <- map_data("world", "canada")
states <- map_data("state")
north_america <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#B9ADAD") + geom_polygon(data=canada, aes(x=long, y=lat, group = group), fill="#7f7f7f") +theme_classic() + coord_fixed(1.3)
canada_map <- ggplot() + geom_polygon(data=canada, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#7f7f7f")
us_map <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#7f7f7f")
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
count_data = read_csv("../../data/ramen_pho_count.csv")
count_data_by_city = inner_join(count_data, cities)
north_america +
geom_point(data=count_data_by_city, aes(x = long, y = lat, size=ramen_count), color="red", alpha=0.4) + theme(legend.position="none") + ggtitle("North American Cities with Ramen and Pho Restaurants")
ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
north_america +
geom_point(data=count_data_by_city, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme(legend.position="none") + ggtitle("North American Cities with Ramen and Pho Restaurants")
ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
usa <- map_data("usa")
canada <- map_data("world", "canada")
states <- map_data("state")
north_america <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#B9ADAD") + geom_polygon(data=canada, aes(x=long, y=lat, group = group), fill="#7f7f7f") +theme_classic() + coord_fixed(1.3)
canada_map <- ggplot() + geom_polygon(data=canada, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#B9ADAD")
us_map <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#B9ADAD")
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
count_data = read_csv("../../data/ramen_pho_count.csv")
count_data_by_city = inner_join(count_data, cities)
count_data_by_city
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
count_data = read_csv("../../data/ramen_pho_count.csv")
count_data_by_city = inner_join(count_data, cities)
us_count_data <- count_data_by_city %>%
filter(country == "USA")
canada_count_data <- count_data_by_city %>%
filter(country == "Canada")
us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme(legend.position="none") + ggtitle("Ramen Restaurants in the United States")
#ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme_bw() + theme(legend.position="none") + ggtitle("Ramen Restaurants in the United States")
#ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
usa <- map_data("usa")
canada <- map_data("world", "canada")
states <- map_data("state")
north_america <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#DCDCDC") + geom_polygon(data=canada, aes(x=long, y=lat, group = group), fill="#7f7f7f") +theme_classic() + coord_fixed(1.3)
canada_map <- ggplot() + geom_polygon(data=canada, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#DCDCDC")
us_map <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#DCDCDC")
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
count_data = read_csv("../../data/ramen_pho_count.csv")
count_data_by_city = inner_join(count_data, cities)
us_count_data <- count_data_by_city %>%
filter(country == "USA")
canada_count_data <- count_data_by_city %>%
filter(country == "Canada")
north_america +
geom_point(data=count_data_by_city, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme(legend.position="none") + ggtitle("North American Cities with Ramen and Pho Restaurants")
ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
usa <- map_data("usa")
canada <- map_data("world", "canada")
states <- map_data("state")
north_america <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#DCDCDC") + geom_polygon(data=canada, aes(x=long, y=lat, group = group), fill="#DCDCDC") +theme_classic() + coord_fixed(1.3)
canada_map <- ggplot() + geom_polygon(data=canada, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#DCDCDC")
us_map <- ggplot() + geom_polygon(data=states, aes(x = long, y = lat, group = group), color = "white", size=0.15, fill="#DCDCDC")
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
count_data = read_csv("../../data/ramen_pho_count.csv")
count_data_by_city = inner_join(count_data, cities)
us_count_data <- count_data_by_city %>%
filter(country == "USA")
canada_count_data <- count_data_by_city %>%
filter(country == "Canada")
north_america +
geom_point(data=count_data_by_city, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme(legend.position="none") + ggtitle("North American Cities with Ramen and Pho Restaurants")
ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme_bw() + theme(legend.position="none") + ggtitle("Ramen Restaurants in the United States")
#ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) + theme_bw() + theme(legend.position="none") + ggtitle("Ramen Restaurants in the United States")
canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in the United States")
#ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(maps)
library(cowplot)
us_ramen <- us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in the United States")
us_pho <- us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=pho_count), color="dark blue", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Pho Restaurants in the United States")
canada_ramen <- canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in Canada")
canada_pho <- canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=pho_count), color="dark blue", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Pho Restaurants in Canada")
plot_grid(us_ramen, us_pho, canada_ramen, canada_pho, labels = c("A", "B", "C", "D"))
#ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
us_ramen <- us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in the United States")
us_pho <- us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=pho_count), color="dark blue", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Pho Restaurants in the United States")
canada_ramen <- canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in Canada")
canada_pho <- canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=pho_count), color="dark blue", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Pho Restaurants in Canada")
plot_grid(us_ramen, us_pho, canada_ramen, canada_pho)
#ggsave("../../results/north_america_map.png", width = 20, height = 20, units = "cm")
us_ramen <- us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in the US")
us_pho <- us_map +
geom_point(data=us_count_data, aes(x = long, y = lat, size=pho_count), color="dark blue", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Pho Restaurants in the US")
canada_ramen <- canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=ramen_count), color="dark red", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Ramen Restaurants in Canada")
canada_pho <- canada_map + geom_point(data=canada_count_data, aes(x = long, y = lat, size=pho_count), color="dark blue", alpha=0.4) +
theme_bw() +
theme(legend.position="none") +
ggtitle("Pho Restaurants in Canada")
plot_grid(us_ramen, us_pho, canada_ramen, canada_pho)
ggsave("../../results/north_america_ramen_pho.png", width = 20, height = 20, units = "cm")
count_data_by_city
count_data
?t.test
t.test(x=count_data$ramen_count, y=count_data$pho_count, paired=TRUE)
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
pho_reviews
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews = read_csv("../../data/reviews/ramen.csv")
ramen_reviews <- ramen_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews = read_csv("../../data/reviews/ramen.csv")
ramen_reviews <- ramen_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews = read_csv("../../data/reviews/ramen.csv")
ramen_reviews <- ramen_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
new_york_reviews <- ramen_reviews %>%
filter(city == "New York, New York")
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews = read_csv("../../data/reviews/ramen.csv")
ramen_reviews <- ramen_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
new_york_reviews <- ramen_reviews %>%
filter(city == "New York, New York")
new_york_reviews
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews = read_csv("../../data/reviews/ramen.csv")
ramen_reviews <- ramen_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
new_york_ramen <- ramen_reviews %>%
filter(city == "New York, New York")
new_york_pho <- pho_reviews %>%
filter(city == "New York, New York")
pho_reviews = read_csv("../../data/reviews/pho.csv")
pho_reviews <- pho_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
ramen_reviews = read_csv("../../data/reviews/ramen.csv")
ramen_reviews <- ramen_reviews %>%
filter(city != 'city') %>%
select(city, name, rank, review_count, food_type)
new_york_ramen <- ramen_reviews %>%
filter(city == "New York, New York")
new_york_pho <- pho_reviews %>%
filter(city == "New York, New York")
new_york_pho
ramen <- read_csv(ramen_input)
library(readr)
ramen <- read_csv(ramen_input)
ramen <- read_csv("../../data/ramen_count.csv")
ramen <- read_csv("../../../data/ramen_count.csv")
ramen <- read_csv("../../data/ramen_count.csv")
ramen <- read_csv("../../data/ramen_counts.csv")
pho <- read_csv("../../data/pho_counts.csv")
inner_join(ramen, pho)
library(tidyverse)
inner_join(ramen, pho)
pho <- read_csv("../../data/pho_counts.csv")
ramen <- read_csv("../../data/ramen_counts.csv")
inner_join(ramen, pho, by="city")
s <- inner_join(ramen, pho, by="city")
str(s)
pho = read_csv("../../data/pho_counts.csv")
ramen = read_csv("../../data/ramen_counts.csv")
ramen_pho <- inner_join(pho, ramen, by="city")
ramen_pho
ramen_pho %>%
filter(city != "city")
ramen_pho <- full_join(pho, ramen, by="city")
ramen_pho %>%
filter(city != "city")
pho = read_csv("../../data/pho_counts.csv")
ramen = read_csv("../../data/ramen_counts.csv")
ramen_pho <- full_join(pho, ramen, by="city")
ramen_pho
ramen_pho %>%
filter(city != "city")
ramen_pho %>%
select(city, food_type.x, restaurant_count.x, food_type.y, restaurant_count.y) %>%
filter(city != 'city')
?rename
?rename
ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city')
?read_csv
count_data = read_csv('../../results/pho_ramen_count.csv')
count_data = read_csv('../../results/pho_ramen_counts_clean.csv')
melted_count_data <- melt(count_data, id=c("city"), value.name="count")
library(reshape2)
melted_count_data <- melt(count_data, id=c("city"), value.name="count")
melted_count_data
melted_count_data$variable <- melted_count_data$variable %>%
fct_recode("ramen" = "ramen_count", "pho" = "pho_count")
melted_count_data <- melt(count_data, id=c("city"), value.name="count")
melted_count_data$variable <- melted_count_data$variable %>%
fct_recode("ramen" = "ramen_count", "pho" = "pho_count")
library(forcats)
melted_count_data <- melt(count_data, id=c("city"), value.name="count")
melted_count_data$variable <- melted_count_data$variable %>%
fct_recode("ramen" = "ramen_count", "pho" = "pho_count")
melted_count_data
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
write_csv(cities, cities.csv)
?write_csv
cities <- data.frame(
city = c("San Francisco", "Toronto", "Los Angeles", "Vancouver", "Seattle", "San Diego", "New York", "Washington DC", "Chicago", "Las Vegas", "Boston", "Houston", "Portland", "Atlanta", "Philadelphia", "Phoenix", "Miami", "Denver", "Dallas", "Charlotte", "Minneapolis", "Montreal"),
lat = c(37.773972, 43.639217, 34.052235, 49.246292, 47.608013, 32.715736, 40.730610, 38.930176, 41.881832, 36.114647, 42.361145, 29.759438, 45.523064, 33.753746, 39.952583, 33.448376, 25.761681, 39.742043, 32.897480, 35.227085, 44.986656, 45.5017),
long = c(-122.431297, -79.400414, -118.243683, -123.116226, -122.335167, -117.161087, -73.935242, -77.070503, -87.623177, -115.172813, -71.057083, -95.369957, -122.676483, -84.386330, -75.165222, -112.074036, -80.191788, -104.991531, -97.040443, -80.843124, -93.258133, -73.5673),
stringsAsFactors = FALSE
)
write_csv(cities)
source('~/Dev/mds/block3/DSCI-522/labs/ramen-vs-pho/src/r_analysis/Untitled.R')
write_csv(cities, path='.')
write_csv(cities, path='../')
write_csv(cities, path='cities.csv')
ile <- "../../results/pho_ramen_counts_clean.csv"
city_fil
input_file <- "../../results/pho_ramen_counts_clean.csv"
city_file <- "../../data/cities_coords.csv"
percent_count_data <- count_data %>%
mutate(total_count = ramen_count + pho_count) %>%
mutate(percent_ramen = ramen_count/total_count) %>%
mutate(percent_pho = pho_count/total_count)
count_data <- read_csv(input_file, col_types = cols())
city_data <- read_csv(city_file, col_types = cols())
percent_count_data <- count_data %>%
mutate(total_count = ramen_count + pho_count) %>%
mutate(percent_ramen = ramen_count/total_count) %>%
mutate(percent_pho = pho_count/total_count)
count_data_by_city <- inner_join(percent_count_data, city_data)
count_data_by_city
count_data
?str_split
ramen_input <- "../data/ramen_counts.csv"
pho_input <- "../data/pho_counts.csv"
pho = read_csv(ramen_input, col_types = cols())
ramen = read_csv(pho_input, col_types = cols())
./../data/ramen_counts.csv"
pho_input <- "../../data
pho = read_csv(ramen_input, col_types = cols())
ramen = read_csv(pho_input, col_types = cols())
ramen_input <- "../../data/ramen_counts.csv"
pho_input <- "../../data/pho_counts.csv"
ramen_input <- "../../data/ramen_counts.csv"
pho_input <- "../../data/pho_counts.csv"
pho = read_csv(ramen_input, col_types = cols())
ramen = read_csv(pho_input, col_types = cols())
ramen_pho <- full_join(pho, ramen, by="city")
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city')
pho_ramen_count_clean
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city') %>%
str_split(city, ",", 2)
library(stringr)
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city') %>%
str_split(city, ",", 2)
ramen_pho <- full_join(pho, ramen, by="city")
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city') %>%
str_split(city, ",", 2)
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city')
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city') %>%
separate(col=city, into=c("city", "state"), sep=",")
pho_ramen_count_clean
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city') %>%
separate(col=city, into=c("city", "state"), sep=",") %>%
pho_ramen_count_clean$state <- as.factor(pho_ramen_count_clean$state) %>%
fct_recode("California" = "CA")
pho_ramen_count_clean$state <- as.factor(pho_ramen_count_clean$state) %>%
fct_recode("California" = "CA")
pho_ramen_count_clean
pho_ramen_count_clean$state <- as.factor(pho_ramen_count_clean$state) %>%
fct_recode("California" = "CA")
?fct_recode
pho_ramen_count_clean$state <- as.factor(pho_ramen_count_clean$state) %>%
fct_recode("California" = "CA ")
pho_ramen_count_clean$state <- as.factor(pho_ramen_count_clean$state) %>%
levels()
pho_ramen_count_clean$state <- as.factor(pho_ramen_count_clean$state) %>%
levels()
as.factor(pho_ramen_count_clean$state) %>%
levels()
pho_ramen_count_clean <- ramen_pho %>%
select(city, pho_count = restaurant_count.x, ramen_count = restaurant_count.y) %>%
filter(city != 'city') %>%
separate(col=city, into=c("city", "state"), sep=", ")
as.factor(pho_ramen_count_clean$state) %>%
levels()
as.factor(pho_ramen_count_clean$state) %>%
fct_recode("CA" = "California")
as.factor(pho_ramen_count_clean$state) %>%
fct_recode("California" = "CA")
pho_ramen_count_clean
pho_ramen_count_clean$state<-as.factor(pho_ramen_count_clean$state) %>%
fct_recode("California" = "CA")
pho_ramen_count_clean
input_file <- "../../results/pho_ramen_counts_clean.csv"
city_file <- "../../data/cities_coords.csv"
input_file <- "../../results/pho_ramen_counts_clean.csv"
city_file <- "../../data/cities_coords.csv"
count_data <- read_csv(input_file, col_types = cols())
city_data <- read_csv(city_file, col_types = cols())
percent_count_data <- count_data %>%
mutate(total_count = ramen_count + pho_count) %>%
mutate(percent_ramen = ramen_count/total_count) %>%
mutate(percent_pho = pho_count/total_count)
count_data_by_city <- inner_join(percent_count_data, city_data)
return(count_data_by_city)
count_data_by_city
